{"version":3,"file":"index.es.js","sources":["../src/defaults.ts","../src/getHeadingDeserialize.ts","../src/getHeadingRenderElement.ts","../src/createHeadingPlugin.ts"],"sourcesContent":["export const ELEMENT_H1 = 'h1';\nexport const ELEMENT_H2 = 'h2';\nexport const ELEMENT_H3 = 'h3';\nexport const ELEMENT_H4 = 'h4';\nexport const ELEMENT_H5 = 'h5';\nexport const ELEMENT_H6 = 'h6';\n\nexport const KEYS_HEADING = [\n  ELEMENT_H1,\n  ELEMENT_H2,\n  ELEMENT_H3,\n  ELEMENT_H4,\n  ELEMENT_H5,\n  ELEMENT_H6,\n];\n\nexport const DEFAULT_HEADING_LEVEL = 6;\n\nexport const DEFAULTS_H1 = {\n  hotkey: ['mod+opt+1', 'mod+shift+1'],\n};\n\nexport const DEFAULTS_H2 = {\n  hotkey: ['mod+opt+2', 'mod+shift+2'],\n};\n\nexport const DEFAULTS_H3 = {\n  hotkey: ['mod+opt+3', 'mod+shift+3'],\n};\n","import { getElementDeserializer } from '@udecode/plate-common';\nimport { Deserialize, getPlatePluginOptions } from '@udecode/plate-core';\nimport {\n  DEFAULT_HEADING_LEVEL,\n  ELEMENT_H1,\n  ELEMENT_H2,\n  ELEMENT_H3,\n  ELEMENT_H4,\n  ELEMENT_H5,\n  ELEMENT_H6,\n} from './defaults';\nimport { HeadingPluginOptions } from './types';\n\nexport const getHeadingDeserialize = ({\n  levels = DEFAULT_HEADING_LEVEL,\n}: HeadingPluginOptions = {}): Deserialize => (editor) => {\n  const h1 = getPlatePluginOptions(editor, ELEMENT_H1);\n  const h2 = getPlatePluginOptions(editor, ELEMENT_H2);\n  const h3 = getPlatePluginOptions(editor, ELEMENT_H3);\n  const h4 = getPlatePluginOptions(editor, ELEMENT_H4);\n  const h5 = getPlatePluginOptions(editor, ELEMENT_H5);\n  const h6 = getPlatePluginOptions(editor, ELEMENT_H6);\n\n  let deserializers = getElementDeserializer({\n    type: h1.type,\n    rules: [{ nodeNames: 'H1' }],\n    ...h1.deserialize,\n  });\n\n  if (levels >= 2)\n    deserializers = [\n      ...deserializers,\n      ...getElementDeserializer({\n        type: h2.type,\n        rules: [{ nodeNames: 'H2' }],\n        ...h2.deserialize,\n      }),\n    ];\n  if (levels >= 3)\n    deserializers = [\n      ...deserializers,\n      ...getElementDeserializer({\n        type: h3.type,\n        rules: [{ nodeNames: 'H3' }],\n        ...h3.deserialize,\n      }),\n    ];\n  if (levels >= 4)\n    deserializers = [\n      ...deserializers,\n      ...getElementDeserializer({\n        type: h4.type,\n        rules: [{ nodeNames: 'H4' }],\n        ...h4.deserialize,\n      }),\n    ];\n  if (levels >= 5)\n    deserializers = [\n      ...deserializers,\n      ...getElementDeserializer({\n        type: h5.type,\n        rules: [{ nodeNames: 'H5' }],\n        ...h5.deserialize,\n      }),\n    ];\n  if (levels >= 6)\n    deserializers = [\n      ...deserializers,\n      ...getElementDeserializer({\n        type: h6.type,\n        rules: [{ nodeNames: 'H6' }],\n        ...h6.deserialize,\n      }),\n    ];\n\n  return {\n    element: deserializers,\n  };\n};\n","import {\n  getEditableRenderElement,\n  getPlatePluginOptions,\n  RenderElement,\n  RenderNodeOptions,\n} from '@udecode/plate-core';\nimport {\n  DEFAULT_HEADING_LEVEL,\n  ELEMENT_H1,\n  ELEMENT_H2,\n  ELEMENT_H3,\n  ELEMENT_H4,\n  ELEMENT_H5,\n  ELEMENT_H6,\n} from './defaults';\nimport { HeadingPluginOptions } from './types';\n\n/**\n * Font sizes are relative to the base font size\n * H1 - fs * 20/11\n * H2 - fs * 16/11\n * H3 - fs * 14/11\n * H4 - fs * 12/11\n * H5 - fs * 1\n * H6 - fs * 1\n */\nexport const getHeadingRenderElement = ({\n  levels = DEFAULT_HEADING_LEVEL,\n}: HeadingPluginOptions = {}): RenderElement => (editor) => {\n  const h1 = getPlatePluginOptions(editor, ELEMENT_H1);\n  const h2 = getPlatePluginOptions(editor, ELEMENT_H2);\n  const h3 = getPlatePluginOptions(editor, ELEMENT_H3);\n  const h4 = getPlatePluginOptions(editor, ELEMENT_H4);\n  const h5 = getPlatePluginOptions(editor, ELEMENT_H5);\n  const h6 = getPlatePluginOptions(editor, ELEMENT_H6);\n\n  const renderElementsOptions: Required<RenderNodeOptions>[] = [];\n\n  const checkRenderElement = (level: number, optionsValues: any) => {\n    if (levels >= level) renderElementsOptions.push(optionsValues);\n  };\n\n  checkRenderElement(1, h1);\n  checkRenderElement(2, h2);\n  checkRenderElement(3, h3);\n  checkRenderElement(4, h4);\n  checkRenderElement(5, h5);\n  checkRenderElement(6, h6);\n\n  return getEditableRenderElement(renderElementsOptions);\n};\n","import { getToggleElementOnKeyDown } from '@udecode/plate-common';\nimport { PlatePlugin } from '@udecode/plate-core';\nimport { DEFAULT_HEADING_LEVEL, KEYS_HEADING } from './defaults';\nimport { getHeadingDeserialize } from './getHeadingDeserialize';\nimport { getHeadingRenderElement } from './getHeadingRenderElement';\nimport { HeadingPluginOptions } from './types';\n\n/**\n * Enables support for headings with configurable levels\n * (from 1 to 6).\n */\nexport const createHeadingPlugin = ({\n  levels = DEFAULT_HEADING_LEVEL,\n}: HeadingPluginOptions = {}): PlatePlugin => ({\n  pluginKeys: KEYS_HEADING,\n  renderElement: getHeadingRenderElement({ levels }),\n  deserialize: getHeadingDeserialize({ levels }),\n  onKeyDown: getToggleElementOnKeyDown(KEYS_HEADING),\n});\n"],"names":["ELEMENT_H1","ELEMENT_H2","ELEMENT_H3","ELEMENT_H4","ELEMENT_H5","ELEMENT_H6","KEYS_HEADING","DEFAULT_HEADING_LEVEL","DEFAULTS_H1","hotkey","DEFAULTS_H2","DEFAULTS_H3","getHeadingDeserialize","levels","editor","h1","getPlatePluginOptions","h2","h3","h4","h5","h6","deserializers","getElementDeserializer","type","rules","nodeNames","deserialize","element","getHeadingRenderElement","renderElementsOptions","checkRenderElement","level","optionsValues","push","getEditableRenderElement","createHeadingPlugin","pluginKeys","renderElement","onKeyDown","getToggleElementOnKeyDown"],"mappings":"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"}