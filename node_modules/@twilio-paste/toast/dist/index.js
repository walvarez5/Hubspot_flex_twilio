"use strict";var __create=Object.create;var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));var __objRest=(source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(source!=null&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target};var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(let key of __getOwnPropNames(from))!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var src_exports={};__export(src_exports,{AnimatedToast:()=>AnimatedToast,Toast:()=>Toast,ToastContainer:()=>ToastContainer,Toaster:()=>Toaster,useToaster:()=>useToaster});module.exports=__toCommonJS(src_exports);var React6=__toESM(require("react")),import_button=require("@twilio-paste/button"),import_CloseIcon=require("@twilio-paste/icons/cjs/CloseIcon"),import_ErrorIcon=require("@twilio-paste/icons/cjs/ErrorIcon"),import_NeutralIcon=require("@twilio-paste/icons/cjs/NeutralIcon"),import_SuccessIcon=require("@twilio-paste/icons/cjs/SuccessIcon"),import_WarningIcon=require("@twilio-paste/icons/cjs/WarningIcon"),import_media_object=require("@twilio-paste/media-object");var React=__toESM(require("react")),import_prop_types=require("prop-types"),import_box=require("@twilio-paste/box"),__defProp2=Object.defineProperty,__defProps2=Object.defineProperties,__getOwnPropDescs2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols2=Object.getOwnPropertySymbols,__hasOwnProp2=Object.prototype.hasOwnProperty,__propIsEnum2=Object.prototype.propertyIsEnumerable,__defNormalProp2=(obj,key,value)=>key in obj?__defProp2(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues2=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp2.call(b,prop)&&__defNormalProp2(a,prop,b[prop]);if(__getOwnPropSymbols2)for(var prop of __getOwnPropSymbols2(b))__propIsEnum2.call(b,prop)&&__defNormalProp2(a,prop,b[prop]);return a},__spreadProps2=(a,b)=>__defProps2(a,__getOwnPropDescs2(b)),__objRest2=(source,exclude)=>{var target={};for(var prop in source)__hasOwnProp2.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(source!=null&&__getOwnPropSymbols2)for(var prop of __getOwnPropSymbols2(source))exclude.indexOf(prop)<0&&__propIsEnum2.call(source,prop)&&(target[prop]=source[prop]);return target},ScreenReaderOnly=React.forwardRef((_a,ref)=>{var _b=_a,{as="span",children}=_b,props=__objRest2(_b,["as","children"]);return React.createElement(import_box.Box,__spreadProps2(__spreadValues2({},props),{as,border:"none",clip:"rect(0 0 0 0)",height:"1px",margin:"spaceNegative10",overflow:"hidden",padding:"space0",position:"absolute",ref,textTransform:"none",whiteSpace:"nowrap",width:"1px"}),children)});ScreenReaderOnly.displayName="ScreenReaderOnly";var React2=__toESM(require("react")),import_box2=require("@twilio-paste/box");var import_prop_types2=__toESM(require("prop-types"));var ToastVariantObject={ERROR:"error",NEUTRAL:"neutral",SUCCESS:"success",WARNING:"warning"};var ToastPropTypes={children:import_prop_types2.default.node.isRequired,onDismiss:import_prop_types2.default.func,variant:import_prop_types2.default.oneOf(["error","neutral","success","warning"]),i18nDismissLabel:import_prop_types2.default.string,i18nErrorLabel:import_prop_types2.default.string,i18nNeutralLabel:import_prop_types2.default.string,i18nSuccessLabel:import_prop_types2.default.string,i18nWarningLabel:import_prop_types2.default.string},ToastPortalPropTypes={children:import_prop_types2.default.node.isRequired,__console_patch:import_prop_types2.default.bool},ToastContainerPropTypes={children:import_prop_types2.default.node.isRequired,__console_patch:import_prop_types2.default.bool},ToasterPropTypes={toasts:import_prop_types2.default.arrayOf(import_prop_types2.default.shape({id:import_prop_types2.default.string.isRequired,message:import_prop_types2.default.node.isRequired,setFocus:import_prop_types2.default.bool,variant:import_prop_types2.default.oneOf(Object.values(ToastVariantObject)).isRequired})).isRequired,pop:import_prop_types2.default.func.isRequired,__console_patch:import_prop_types2.default.bool};var ErrorToast=React2.forwardRef((_a,ref)=>{var _b=_a,{element="TOAST",variant}=_b,props=__objRest(_b,["element","variant"]);return React2.createElement(import_box2.Box,__spreadProps(__spreadValues({},(0,import_box2.safelySpreadBoxProps)(props)),{ref,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderErrorWeak",boxShadow:"shadowHigh",element,padding:"space60",variant,width:"size40"}),props.children)});ErrorToast.displayName="ErrorToast";ErrorToast.propTypes=ToastPropTypes;var React3=__toESM(require("react")),import_box3=require("@twilio-paste/box");var NeutralToast=React3.forwardRef((_a,ref)=>{var _b=_a,{element="TOAST",variant}=_b,props=__objRest(_b,["element","variant"]);return React3.createElement(import_box3.Box,__spreadProps(__spreadValues({},(0,import_box3.safelySpreadBoxProps)(props)),{ref,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderNeutralWeak",boxShadow:"shadowHigh",element,padding:"space60",variant,width:"size40"}),props.children)});NeutralToast.displayName="NeutralToast";NeutralToast.propTypes=ToastPropTypes;var React4=__toESM(require("react")),import_box4=require("@twilio-paste/box");var SuccessToast=React4.forwardRef((_a,ref)=>{var _b=_a,{element="TOAST",variant}=_b,props=__objRest(_b,["element","variant"]);return React4.createElement(import_box4.Box,__spreadProps(__spreadValues({},(0,import_box4.safelySpreadBoxProps)(props)),{ref,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderSuccessWeak",boxShadow:"shadowHigh",element,padding:"space60",variant,width:"size40"}),props.children)});SuccessToast.displayName="SuccessToast";SuccessToast.propTypes=ToastPropTypes;var React5=__toESM(require("react")),import_box5=require("@twilio-paste/box");var WarningToast=React5.forwardRef((_a,ref)=>{var _b=_a,{element="TOAST",variant}=_b,props=__objRest(_b,["element","variant"]);return React5.createElement(import_box5.Box,__spreadProps(__spreadValues({},(0,import_box5.safelySpreadBoxProps)(props)),{ref,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderWarningWeak",boxShadow:"shadowHigh",element,padding:"space60",variant,width:"size40"}),props.children)});WarningToast.displayName="WarningToast";WarningToast.propTypes=ToastPropTypes;var ToastComponentVariants={error:ErrorToast,neutral:NeutralToast,success:SuccessToast,warning:WarningToast},renderToastIcon=(variant,title,element)=>{switch(variant){case ToastVariantObject.ERROR:return React6.createElement(import_ErrorIcon.ErrorIcon,{color:"colorTextIconError",decorative:!1,title,element:`${element}_ICON`,size:"sizeIcon20"});case ToastVariantObject.SUCCESS:return React6.createElement(import_SuccessIcon.SuccessIcon,{color:"colorTextIconSuccess",decorative:!1,title,element:`${element}_ICON`,size:"sizeIcon20"});case ToastVariantObject.WARNING:return React6.createElement(import_WarningIcon.WarningIcon,{color:"colorTextIconWarning",decorative:!1,title,element:`${element}_ICON`,size:"sizeIcon20"});case ToastVariantObject.NEUTRAL:default:return React6.createElement(import_NeutralIcon.NeutralIcon,{color:"colorTextIconNeutral",decorative:!1,title,element:`${element}_ICON`,size:"sizeIcon20"})}},Toast=React6.forwardRef((_a,ref)=>{var _b=_a,{children,onDismiss,variant="neutral",element="TOAST",setFocus,i18nDismissLabel="Dismiss toast",i18nErrorLabel="(error)",i18nNeutralLabel="(information)",i18nSuccessLabel="(success)",i18nWarningLabel="(warning)"}=_b,props=__objRest(_b,["children","onDismiss","variant","element","setFocus","i18nDismissLabel","i18nErrorLabel","i18nNeutralLabel","i18nSuccessLabel","i18nWarningLabel"]);let ToastComponent=ToastComponentVariants[variant],buttonRef=React6.useRef(null);React6.useEffect(()=>{setFocus&&buttonRef.current&&buttonRef.current.focus({preventScroll:!0})},[setFocus]);let i18nVariants={error:i18nErrorLabel,neutral:i18nNeutralLabel,success:i18nSuccessLabel,warning:i18nWarningLabel};return React6.createElement(ToastComponent,__spreadValues({role:"status",variant,element,ref},props),React6.createElement(import_media_object.MediaObject,{as:"div"},React6.createElement(import_media_object.MediaFigure,{as:"div",spacing:"space60"},renderToastIcon(variant,i18nVariants[variant],element)),React6.createElement(import_media_object.MediaBody,{as:"div"},children),onDismiss&&typeof onDismiss=="function"&&React6.createElement(import_media_object.MediaFigure,{align:"end",spacing:"space40"},React6.createElement(import_button.Button,{onClick:onDismiss,variant:"secondary_icon",ref:buttonRef,size:"reset",element:`${element}_CLOSE_BUTTON`},React6.createElement(import_CloseIcon.CloseIcon,{decorative:!0,size:"sizeIcon20",element:`${element}_CLOSE_ICON`}),React6.createElement(ScreenReaderOnly,null,i18nDismissLabel)))))});Toast.displayName="Toast";Toast.propTypes=ToastPropTypes;var React8=__toESM(require("react")),import_stack=require("@twilio-paste/stack");var React7=__toESM(require("react")),import_theme=require("@twilio-paste/theme"),import_reakit_library=require("@twilio-paste/reakit-library"),import_box6=require("@twilio-paste/box");var ToastPortal=React7.forwardRef((_a,ref)=>{var _b=_a,{children,__console_patch}=_b,props=__objRest(_b,["children","__console_patch"]);return React7.createElement(import_reakit_library.Portal,null,React7.createElement(import_theme.StyledBase,null,React7.createElement(import_box6.Box,__spreadProps(__spreadValues({},(0,import_box6.safelySpreadBoxProps)(props)),{position:"fixed",right:"space40",top:"space90",zIndex:"zIndex90",ref,style:__console_patch?{zIndex:1999}:void 0}),children)))});ToastPortal.displayName="ToastPortal";var ToastContainer=React8.forwardRef((_a,ref)=>{var _b=_a,{children}=_b,props=__objRest(_b,["children"]);return React8.createElement(ToastPortal,__spreadValues({},props),React8.createElement(import_stack.Stack,{orientation:"vertical",spacing:"space40",ref},children))});ToastContainer.displayName="ToastContainer";ToastContainer.propTypes=ToastContainerPropTypes;var React9=__toESM(require("react")),import_animation_library=require("@twilio-paste/animation-library"),import_theme2=require("@twilio-paste/theme"),import_box7=require("@twilio-paste/box");var AnimatedToast=(0,import_animation_library.animated)(import_box7.Box),Toaster=_a=>{var _b=_a,{toasts,pop}=_b,props=__objRest(_b,["toasts","pop"]);let prefersReducedMotion=(0,import_animation_library.useReducedMotion)(),[refMap]=React9.useState(()=>new WeakMap),[returnTarget,setReturnTarget]=React9.useState({trigger:null}),theme=(0,import_theme2.useTheme)(),transitions=(0,import_animation_library.useTransition)(toasts,{from:{marginBottom:"0rem",opacity:0,transform:"translateX(100%) scale(1)",height:prefersReducedMotion?"auto":0},enter:prefersReducedMotion?{marginBottom:theme.space.space40,opacity:1,transform:"translateX(0px) scale(1)"}:item=>async next=>{await next({marginBottom:theme.space.space40,opacity:1,transform:"translateX(0px) scale(1)",height:refMap.get(item).offsetHeight})},leave:{marginBottom:"0rem",opacity:0,transform:"translateX(0px) scale(0.8)",height:prefersReducedMotion?"auto":0},config:{mass:1,tension:150,friction:20}}),clearReturnTarget=React9.useCallback(()=>{setReturnTarget({trigger:null})},[returnTarget]);return React9.useEffect(()=>{returnTarget.trigger!=null&&toasts.length===0&&(returnTarget.trigger.focus(),clearReturnTarget())},[toasts]),React9.createElement(ToastPortal,__spreadValues({},props),transitions((styles,item,state,index)=>React9.createElement(AnimatedToast,{as:"div",key:state.key,style:styles},React9.createElement(Toast,__spreadProps(__spreadValues({key:item.id},item),{onDismiss:()=>{item.onDismiss!=null&&item.onDismiss(),pop(item.id)},ref:ref=>{ref!=null&&refMap.set(item,ref)},setFocus:index===0,onFocus:e=>{e.relatedTarget&&!returnTarget.trigger&&setReturnTarget({trigger:e.relatedTarget})}}),item.message))))};Toaster.displayName="Toaster";var React10=__toESM(require("react")),import_uid_library=require("@twilio-paste/uid-library");var useToaster=()=>{let isMounted=React10.useRef(null),[toasts,setToasts]=React10.useState([]);React10.useEffect(()=>(isMounted.current=!0,()=>{isMounted.current=!1,toasts.forEach(toast=>{toast.timeOutId&&window.clearTimeout(toast.timeOutId)})}),[]);let pop=id=>{!isMounted.current||setToasts(currentToasts=>currentToasts.filter(toast=>(toast.id===id&&(toast.timeOutId&&window.clearTimeout(toast.timeOutId),toast.onDismiss&&toast.onDismiss()),toast.id!==id)))};return{toasts,push:newToast=>{if(!isMounted.current)return;let generatedID=(0,import_uid_library.uid)(newToast),timeOutId;newToast.dismissAfter!=null&&Number.isInteger(newToast.dismissAfter)&&(timeOutId=window.setTimeout(pop,newToast.dismissAfter,newToast.id||generatedID));let existingToasts=toasts.map(toast=>{let tmpToast=toast;return tmpToast.setFocus=!1,tmpToast});setToasts([__spreadValues({id:generatedID,timeOutId,setFocus:!0},newToast),...existingToasts])},pop}};0&&(module.exports={AnimatedToast,Toast,ToastContainer,Toaster,useToaster});
