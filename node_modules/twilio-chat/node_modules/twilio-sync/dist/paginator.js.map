{"version":3,"file":"paginator.js","sources":["../src/paginator.ts"],"sourcesContent":["/**\n * Pagination helper class.\n */\nclass Paginator<Item> {\n  private prevPageItemId: string | number | null;\n  private nextPageItemId: string | number | null;\n  private source: any;\n\n  /**\n   * Array of elements on current page.\n   */\n  public readonly items: Item[];\n\n  /**\n   * @internal\n   */\n  constructor(items: any, source: any, prevItemId: string | number | null = null, nextItemId: string | number | null = null) {\n    this.items = items;\n    this.source = source;\n    this.prevPageItemId = prevItemId;\n    this.nextPageItemId = nextItemId;\n  }\n\n  /**\n   * Request next page.\n   * Does not modify existing object.\n   */\n  async nextPage(): Promise<Paginator<Item>> {\n    if (!this.hasNextPage) {\n      throw new Error('No next page');\n    }\n\n    return this.source({ nextPageItemId: this.nextPageItemId });\n  }\n\n  /**\n   * Request previous page.\n   * Does not modify existing object.\n   */\n  async prevPage(): Promise<Paginator<Item>> {\n    if (!this.hasPrevPage) {\n      throw new Error('No previous page');\n    }\n\n    return this.source({ prevPageItemId: this.prevPageItemId });\n  }\n\n  /**\n   * Indicates the existence of the next page.\n   */\n  get hasNextPage(): boolean {\n    return this.nextPageItemId !== null;\n  }\n\n  /**\n   * Indicates the existence of the previous page.\n   */\n  get hasPrevPage(): boolean {\n    return this.prevPageItemId !== null;\n  }\n}\n\nexport { Paginator };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEG;AACH,MAAM,SAAS,CAAA;AAUb;;AAEG;IACH,WAAY,CAAA,KAAU,EAAE,MAAW,EAAE,aAAqC,IAAI,EAAE,aAAqC,IAAI,EAAA;AACvH,QAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,QAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,QAAA,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC;AACjC,QAAA,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC;KAClC;AAED;;;AAGG;AACH,IAAA,MAAM,QAAQ,GAAA;AACZ,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC;AACjC,SAAA;AAED,QAAA,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;KAC7D;AAED;;;AAGG;AACH,IAAA,MAAM,QAAQ,GAAA;AACZ,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;AACrC,SAAA;AAED,QAAA,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;KAC7D;AAED;;AAEG;AACH,IAAA,IAAI,WAAW,GAAA;AACb,QAAA,OAAO,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC;KACrC;AAED;;AAEG;AACH,IAAA,IAAI,WAAW,GAAA;AACb,QAAA,OAAO,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC;KACrC;AACF;;;;"}