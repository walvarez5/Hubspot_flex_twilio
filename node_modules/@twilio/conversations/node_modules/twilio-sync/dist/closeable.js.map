{"version":3,"file":"closeable.js","sources":["../src/closeable.ts"],"sourcesContent":["import { EventEmitter } from 'events';\nimport { v4 as uuidv4 } from 'uuid';\n\nabstract class Closeable extends EventEmitter {\n\n  private readonly uuid: string;\n  private closed: boolean;\n\n  constructor() {\n    super();\n    this.closed = false;\n    this.uuid = uuidv4();\n  }\n\n  get listenerUuid(): string {\n    return this.uuid;\n  }\n\n  protected close() {\n    this.removeAllListeners();\n    this.closed = true;\n  }\n\n  protected ensureNotClosed() {\n    if (this.closed) {\n      throw new Error('Invalid operation on closed object');\n    }\n  }\n\n}\nexport { Closeable };\nexport default Closeable;"],"names":["EventEmitter","uuidv4"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,MAAe,SAAU,SAAQA,+BAAY;IAK3C;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,IAAI,GAAGC,OAAM,EAAE,CAAC;KACtB;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,IAAI,CAAC;KAClB;IAES,KAAK;QACb,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;KACpB;IAES,eAAe;QACvB,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;SACvD;KACF;;;;;;"}