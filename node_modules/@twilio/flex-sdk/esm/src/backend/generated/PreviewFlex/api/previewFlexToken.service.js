typeof window<"u"&&(window.global=window);import{__classPrivateFieldSet as p,__classPrivateFieldGet as s}from"../../../../../node_modules/tslib/tslib.es6.js";import"../../../../modules/error/FlexSdkError/FlexSdkError.js";import{ErrorCode as a}from"../../../../modules/error/ErrorCode/ErrorCodes.js";import"../../../../modules/error/ErrorCode/InternalErrorCodes.js";import{isDownstreamErrorCode as m}from"../../../../modules/error/ErrorCode/ErrorCodeHelper.js";import{ErrorSeverity as d}from"../../../../modules/error/ErrorSeverity/ErrorSeverity.js";import{throwFlexSdkError as c}from"../../../../modules/error/ThrowError/ErrorHelper.js";import{SimpleHttpAdapterImpl as w}from"../../../SimpleHttpAdapter/SimpleHttpAdapterImpl.js";var r;class f{constructor(e){r.set(this,void 0),this.simpleHttpAdapter=new w(e),p(this,r,c(e),"f"),this.simpleHttpAdapter.setIsEdgeSupported(!1)}async createFlexAuth0Token(e,l){const i={module:"backend",severity:d.Error,source:"previewFlexToken.service.ts"};e==null&&s(this,r,"f").call(this,a.InvalidParams,i,"Required parameter body was null or undefined.");let o;try{o=await this.simpleHttpAdapter.post("https://preview[region].twilio.com/Flex/Tokens",void 0,e,l,"application/x-www-form-urlencoded")}catch(t){if(m(t.code)){const n=`PreviewFlexTokenService - ${t.message}`;return s(this,r,"f").call(this,a.DownstreamServiceError,i,n)}return Promise.reject(t)}return o}}r=new WeakMap;export{f as PreviewFlexTokenServiceImpl};
//# sourceMappingURL=previewFlexToken.service.js.map
