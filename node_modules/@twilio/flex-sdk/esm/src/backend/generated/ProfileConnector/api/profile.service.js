typeof window<"u"&&(window.global=window);import{__classPrivateFieldSet as f,__classPrivateFieldGet as a}from"../../../../../node_modules/tslib/tslib.es6.js";import"../../../../modules/error/FlexSdkError/FlexSdkError.js";import{ErrorCode as c}from"../../../../modules/error/ErrorCode/ErrorCodes.js";import"../../../../modules/error/ErrorCode/InternalErrorCodes.js";import{isDownstreamErrorCode as l}from"../../../../modules/error/ErrorCode/ErrorCodeHelper.js";import{ErrorSeverity as m}from"../../../../modules/error/ErrorSeverity/ErrorSeverity.js";import{AuthenticationMethod as p}from"../../../commons/authenticationMethods.js";import{throwFlexSdkError as u}from"../../../../modules/error/ThrowError/ErrorHelper.js";import{SimpleHttpAdapterImpl as w}from"../../../SimpleHttpAdapter/SimpleHttpAdapterImpl.js";var o;class h{constructor(e){o.set(this,void 0),this.simpleHttpAdapter=new w(e),f(this,o,u(e),"f"),this.simpleHttpAdapter.setIsEdgeSupported(!1)}async findProfileByIdentifiers(e,n){const s={module:"backend",severity:m.Error,source:"profile.service.ts"};e==null&&a(this,o,"f").call(this,c.InvalidParams,s,"Required parameter body was null or undefined.");let t;try{t=await this.simpleHttpAdapter.post("https://preview[region].twilio.com/ProfileConnector/Profiles/Find",p.Basic,e,n,"application/x-www-form-urlencoded")}catch(r){if(l(r.code)){const i=`ProfileService - ${r.message}`;return a(this,o,"f").call(this,c.DownstreamServiceError,s,i)}return Promise.reject(r)}return t}async findProfileByUniqueId(e,n,s){const t={module:"backend",severity:m.Error,source:"profile.service.ts"};e==null&&a(this,o,"f").call(this,c.InvalidParams,t,"Required parameter profileConnectSidPathParam was null or undefined.");let r;try{r=await this.simpleHttpAdapter.get(`https://preview[region].twilio.com/ProfileConnector/Profiles/${encodeURIComponent(String(e))}?UniqueName=${encodeURIComponent(String(n))}`,p.Basic,s)}catch(i){if(l(i.code)){const d=`ProfileService - ${i.message}`;return a(this,o,"f").call(this,c.DownstreamServiceError,t,d)}return Promise.reject(i)}return r}async getIdentifiers(e,n){const s={module:"backend",severity:m.Error,source:"profile.service.ts"};let t;try{t=await this.simpleHttpAdapter.get(`https://preview[region].twilio.com/ProfileConnector/Identifiers?UniqueName=${encodeURIComponent(String(e))}`,p.Basic,n)}catch(r){if(l(r.code)){const i=`ProfileService - ${r.message}`;return a(this,o,"f").call(this,c.DownstreamServiceError,s,i)}return Promise.reject(r)}return t}async getTraits(e,n){const s={module:"backend",severity:m.Error,source:"profile.service.ts"};let t;try{t=await this.simpleHttpAdapter.get(`https://preview[region].twilio.com/ProfileConnector/Traits?UniqueName=${encodeURIComponent(String(e))}`,p.Basic,n)}catch(r){if(l(r.code)){const i=`ProfileService - ${r.message}`;return a(this,o,"f").call(this,c.DownstreamServiceError,s,i)}return Promise.reject(r)}return t}}o=new WeakMap;export{h as ProfileServiceImpl};
//# sourceMappingURL=profile.service.js.map
