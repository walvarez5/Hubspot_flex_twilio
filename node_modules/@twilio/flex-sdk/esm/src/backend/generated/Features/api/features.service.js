typeof window<"u"&&(window.global=window);import{__classPrivateFieldSet as a,__classPrivateFieldGet as p}from"../../../../../node_modules/tslib/tslib.es6.js";import"../../../../modules/error/FlexSdkError/FlexSdkError.js";import{ErrorCode as m}from"../../../../modules/error/ErrorCode/ErrorCodes.js";import"../../../../modules/error/ErrorCode/InternalErrorCodes.js";import{isDownstreamErrorCode as n}from"../../../../modules/error/ErrorCode/ErrorCodeHelper.js";import{ErrorSeverity as c}from"../../../../modules/error/ErrorSeverity/ErrorSeverity.js";import{HttpAdapterImpl as d}from"../../../HttpAdapter/HttpAdapterImpl.js";import{AuthenticationMethod as l}from"../../../commons/authenticationMethods.js";import{convertDateStringValuesToDate as f}from"../../../../utils/processHttpAdapterResponse.js";import{throwFlexSdkError as h}from"../../../../modules/error/ThrowError/ErrorHelper.js";var r;class u{constructor(e){r.set(this,void 0),this.httpAdapter=new d(e),a(this,r,h(e),"f"),this.httpAdapter.setIsEdgeSupported(!0)}async fetchFeatures(e){const s={module:"backend",severity:c.Error,source:"features.service.ts"};let o;try{o=await this.httpAdapter.get("https://flex[region].twilio.com/api/v1/Session",l.HostedFlex,e)}catch(t){if(n(t.code)){const i=`FeaturesService - ${t.message}`;return p(this,r,"f").call(this,m.DownstreamServiceError,s,i)}return Promise.reject(t)}return f(o)}}r=new WeakMap;export{u as FeaturesServiceImpl};
//# sourceMappingURL=features.service.js.map
