{"version":3,"file":"TwilioTelemetryProcessor.js","sources":["../../../../../../../../../../../src/modules/telemetry/TelemetryProcessor/TwilioEventProcessor/TwilioTelemetryProcessor.ts"],"sourcesContent":[null],"names":["TELEMETRY_DISABLED_HTTP_STATUS_CODE","TOO_MANY_REQUESTS_HTTP_STATUS_CODE","MAX_NUMBER_OF_EVENTS_IN_BATCH","REQUEST_ERROR_PAUSE_THRESHOLD","ONE_MINUTE_MS","FIVE_MINUTES_MS","TwilioTelemetryProcessor","ctx","_TwilioTelemetryProcessor_logger","_TwilioTelemetryProcessor_telemetryService","_TwilioTelemetryProcessor_isTelemetryDisabled","_TwilioTelemetryProcessor_isTelemetryPaused","_TwilioTelemetryProcessor_consecutiveRequestErrorCount","_TwilioTelemetryProcessor_throwErrorFromErrorResponse","_TwilioTelemetryProcessor_throwAndReportError","_TwilioTelemetryProcessor_sendTelemetryEvents","events","__classPrivateFieldGet","stats","body","__classPrivateFieldSet","error","httpErrorCode","_a","_TwilioTelemetryProcessor_pauseTelemetry","metadata","ErrorSeverity","durationMs","getLogger","TelemetryLoggerName","TelemetryServiceImpl","throwAndReportFlexSdkError","throwFlexSdkErrorFromErrorResponse","payloadType","groupName","sessionData","assertNotEmptyString","eventName","eventSource","telemetryNotSentResult","backendEvents","toSdkBackendEvents","eventsSucceeded","eventsFailed","backendEventsBatch","arrayOfPromises","i","batchResults","acc","batch","eventsNotProcessed"],"mappings":"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"}